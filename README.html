<h1 id="1-nukeserversocket-readme">1. NukeServerSocket README</h1>
<p><a href="https://github.com/sisoe24/NukeServerSocket/releases"><img
      src="https://img.shields.io/github/v/release/sisoe24/NukeServerSocket?label=stable" alt="Main Build"></a>
  <a href="https://github.com/sisoe24/NukeServerSocket/releases"><img
      src="https://img.shields.io/github/v/release/sisoe24/NukeServerSocket?label=pre-release&amp;include_prereleases"
      alt="Pre Release"></a>
  <img src="https://img.shields.io/github/last-commit/sisoe24/NukeServerSocket" alt="Last commit">
</p>
<p><a href="https://github.com/sisoe24/NukeServerSocket/issues"><img
      src="https://img.shields.io/github/issues/sisoe24/NukeServerSocket" alt="issues"></a>
  <a href="https://github.com/sisoe24/NukeServerSocket/pulls"><img
      src="https://img.shields.io/github/issues-pr/sisoe24/NukeServerSocket" alt="pull-request"></a>
</p>
<p><a
    href="https://www.codacy.com/gh/sisoe24/NukeServerSocket/dashboard?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=sisoe24/NukeServerSocket&amp;utm_campaign=Badge_Grade"><img
      src="https://app.codacy.com/project/badge/Grade/5b59bd7f80c646a8b2b16ad4b8cba599" alt="Codacy Badge"></a>
  <a
    href="https://www.codacy.com/gh/sisoe24/NukeServerSocket/dashboard?utm_source=github.com&amp;utm_medium=referral&amp;utm_content=sisoe24/NukeServerSocket&amp;utm_campaign=Badge_Coverage"><img
      src="https://app.codacy.com/project/badge/Coverage/5b59bd7f80c646a8b2b16ad4b8cba599" alt="Codacy Badge"></a>
  <a href="https://deepsource.io/gh/sisoe24/NukeServerSocket/?ref=repository-badge"><img
      src="https://deepsource.io/gh/sisoe24/NukeServerSocket.svg/?label=active+issues&amp;show_trend=true&amp;token=D3BtO5z54YqAh2Fn2pTf9JKB"
      alt="DeepSource"></a>
</p>
<p><a href="https://github.com/sisoe24/NukeServerSocket/blob/main/LICENSE"><img
      src="https://img.shields.io/github/license/sisoe24/NukeServerSocket" alt="license"></a></p>
<p><img src="https://img.shields.io/badge/Python-2.7.18_|_3.7.7-success" alt="x">
  <img src="https://img.shields.io/badge/Nuke-11_|_12_|_13_|_14-yellow" alt="x">
</p>
<p>A Nuke plugin to run code from external applications.</p>
<ul>
  <li><a href="#1-nukeserversocket-readme">1. NukeServerSocket README</a>
    <ul>
      <li><a href="#11-features">1.1. Features</a></li>
      <li><a href="#12-client-applications">1.2. Client applications</a></li>
      <li><a href="#13-installation">1.3. Installation</a></li>
      <li><a href="#14-usage">1.4. Usage</a>
        <ul>
          <li><a href="#141-execute-code">1.4.1. Execute code</a></li>
          <li><a href="#142-receivesend-nodes">1.4.2. Receive/Send nodes</a></li>
        </ul>
      </li>
      <li><a href="#15-settings">1.5. Settings</a></li>
      <li><a href="#16-extendibility">1.6. Extendibility</a></li>
      <li><a href="#17-test-plugin-locally">1.7. Test plugin locally</a></li>
      <li><a href="#18-known-issues">1.8. Known Issues</a></li>
      <li><a href="#19-compatibility">1.9. Compatibility</a></li>
    </ul>
  </li>
</ul>
<h2 id="1-1-features">1.1. Features</h2>
<ul>
  <li>Receive Python or BlinkScript code from any client in your local network. (More on <a
      href="#16-extendibility">Extendibility</a>)</li>
  <li>Connect more than one client to the same Nuke instance.</li>
  <li>Receive/Send nodes from another Nuke instance in your local network.</li>
  <li>WebSocket-ready for browser-based text editors.<blockquote>
      <p>Note: WebSocket connection does not work in Nuke 14.</p>
    </blockquote>
  </li>
</ul>
<h2 id="1-2-client-applications">1.2. Client applications</h2>
<p>Client applications that use NukeServerSocket:</p>
<ul>
  <li><a href="https://marketplace.visualstudio.com/items?itemName=virgilsisoe.nuke-tools">Nuke Tools</a> - Visual
    Studio Code extension.</li>
  <li><a href="https://packagecontrol.io/packages/NukeToolsST">Nuke Tools ST</a> - Sublime Text package.</li>
  <li><a href="https://marketplace.visualstudio.com/items?itemName=virgilsisoe.dcc-websocket">DCC WebSocket</a> - Visual
    Studio Code Web extension.</li>
</ul>
<h2 id="1-3-installation">1.3. Installation</h2>
<ol>
  <li>Download the repository via the <a href="https://github.com/sisoe24/NukeServerSocket/releases">releases page</a>
    or by cloning it from GitHub.</li>
  <li>Place the folder inside the <em>~/.nuke</em> directory or into a custom one.</li>
  <li>Write <code>import NukeServerSocket</code> into your <em>menu.py</em>.</li>
</ol>
<p>NOTES</p>
<ul>
  <li>If you use a custom plugin path, add the path in your init.py:
    <code>nuke.pluginAddPath(&#39;custom/path&#39;)</code></li>
  <li>The folder name must be named <strong>NukeServerSocket</strong>.</li>
  <li>If you use <a href="https://marketplace.visualstudio.com/items?itemName=virgilsisoe.nuke-tools">Nuke Tools</a>,
    use the command <code>Nuke Tools: Add NukeServerSocket</code>.</li>
</ul>
<h2 id="1-4-usage">1.4. Usage</h2>
<h3 id="1-4-1-execute-code">1.4.1. Execute code</h3>
<p><img src="images/execute_code.gif" alt="Execute Code"></p>
<ol>
  <li>Open the NukeServerSocket panel inside Nuke, and with the mode on <strong>Receiver</strong>, start the server by
    clicking <strong>Connect</strong>.</li>
  <li>You can now send code from Visual Studio Code with <a
      href="https://marketplace.visualstudio.com/items?itemName=virgilsisoe.nuke-tools">Nuke Tools</a> or any other
    method you prefer.</li>
</ol>
<p>NOTES:</p>
<ul>
  <li>You can troubleshoot the connection by using the <strong>Test Receiver</strong> button.</li>
  <li>If you receive a message: &quot;<em>Server did not initiate. Error: The bound address is already in
      use</em>&quot;, change the <strong>port</strong> to a random number between <code>49152</code> and
    <code>65535</code> and try again. It probably means that you have a connection listening on that port already.</li>
</ul>
<h3 id="1-4-2-receive-send-nodes">1.4.2. Receive/Send nodes</h3>
<p><img src="images/send_nodes.gif" alt="Send Nodes"></p>
<ul>
  <li>
    <p>Receive nodes</p>
    <p> When receiving nodes, start the server with the mode on <strong>Receiver</strong>.</p>
  </li>
  <li>
    <p>Sending nodes</p>
    <ol>
      <li>Switch the mode from <strong>Receiver</strong> to <strong>Sender</strong> and be sure that there is another
        NukeServerSocket instance listening for incoming network requests.</li>
      <li>Select the nodes you wish to send a click <strong>Send Selected Nodes</strong>.</li>
    </ol>
  </li>
</ul>
<p>NOTES:</p>
<ul>
  <li>When sending nodes to the same computer, only the <strong>Port</strong> value must match the two Nuke instances.
  </li>
  <li>When sending nodes between different computers, both <strong>IP Address</strong> and <strong>Port</strong> must
    match the two Nuke instances.</li>
</ul>
<h2 id="1-5-settings">1.5. Settings</h2>
<p>You access the settings from the plugin toolbar.</p>
<ul>
  <li>
    <p><strong>Code Execution Engine</strong>: Change the engine that will executing the code.</p>
    <ul>
      <li><strong>Nuke Internal</strong>: Nuke <code>executeInMainThread</code> function. [<strong>Default</strong>]
      </li>
      <li><strong>Script Editor</strong>: Nuke Script Editor widget.</li>
    </ul>
    <blockquote>
      <p>Why use one over the other?</p>
      <ul>
        <li>Nuke Internal is a more direct and fast approach, but it uses <code>exec</code> under the hood, which might
          cause some issues.</li>
        <li>Nuke Script Editor its a safer approach overall but it does require slightly more work behind scene.</li>
      </ul>
    </blockquote>
  </li>
  <li>
    <p><strong>Connection Type</strong>: Change the internal connection protocol for the client-server <strong>(Not
        present in Nuke 14, which defaults to TCP)</strong>.</p>
    <ul>
      <li><strong>TCP</strong>: The default type of connection. If unsure, use this. [<strong>Default</strong>]</li>
      <li><strong>WebSocket</strong>: This allows a two-way interactive communication session between the user&#39;s
        browser and the internal server. Use this when using a browser-based text editor.</li>
    </ul>
  </li>
  <li>
    <p><strong>Mirror To Script Editor</strong>: Allows mirroring the input/output code to the internal script editor.
    </p>
    <ul>
      <li><strong>Override Output Editor</strong>: Mirror output to the internal script editor.</li>
      <li><strong>Format Text</strong>: The script editor output window will receive a formatted version of the code
        result.</li>
      <li><strong>Clear Output</strong>: The script editor output window will clear the code after each execution.</li>
      <li><strong>Show File Path</strong>: The script editor output window will display the full path for the executed
        file.</li>
      <li><strong>Show Unicode</strong>: The script editor output window will display a Unicode character `` that
        indicates the start of the code execution result.</li>
      <li><strong>Override Input Editor</strong>: Mirror input to the internal script editor.</li>
    </ul>
  </li>
  <li>
    <p><strong>Timeout</strong>: Terminate the connection when the Server is inactive or did not establish a successful
      contact in the time specified.</p>
    <ul>
      <li><strong>Server</strong>: Set the Timeout when clicking the <strong>Connect</strong> button. The default value
        is <code>10</code> minutes.</li>
      <li><strong>Receiver</strong>: Set the Timeout for when clicking the <strong>Test Receiver</strong> button. The
        default value is <code>10</code> seconds.</li>
      <li><strong>Send Nodes</strong>: Set the Timeout when clicking <strong>Send Nodes</strong> button. The default
        value is <code>30</code> seconds.</li>
    </ul>
  </li>
</ul>
<h2 id="1-6-extendibility">1.6. Extendibility</h2>
<p>At its core, the plugin is just a server socket that waits for an incoming request,
  performs the operations inside Nuke, and returns the result. Nothing ties it to any application per se.</p>
<p>This makes it very easy to implement a new client, without the need to modify the NukeServerSocket source code. The
  client needs only to send the data at the specified address inside NukeServerSocket.</p>
<p>You can find more information and examples on the <a
    href="https://github.com/sisoe24/NukeServerSocket/wiki/Create-custom-client">wiki page</a>.</p>
<h2 id="1-7-test-plugin-locally">1.7. Test plugin locally</h2>
<p>You can run the plugin locally outside the Nuke application. This method is handy for testing code and implementing
  new features faster.</p>
<p>You can find more information and examples on the <a
    href="https://github.com/sisoe24/NukeServerSocket/wiki/Test-Plugin-locally">wiki page</a>.</p>
<h2 id="1-8-known-issues">1.8. Known Issues</h2>
<ul>
  <li>Nuke 14 does not ship with QWebSocket module so the WebSocket connection is not enabled.</li>
  <li>Creating a modal window with the Nuke internal code execution engine will cause Nuke to freeze. A workaround is to
    switch to the Script Editor engine.</li>
  <li>Settings window doesn&#39;t display the tooltip text.</li>
  <li>Changing workspace with an active open connection makes Nuke load a new plugin instance with the default UI state.
    So it would look as if the previous connection has been closed, whereas in reality is still open and listening. To
    force close all of the listening connections, you can:<ul>
      <li>Restart the Nuke instance.</li>
      <li>Wait for the connection timeout.</li>
    </ul>
  </li>
</ul>
<h2 id="1-9-compatibility">1.9. Compatibility</h2>
<p>Nuke version: 11,12, 13, 14</p>
<blockquote>
  <p>Because Nuke 11 uses an early version of PySide2, future compatibility is not a guarantee.</p>
</blockquote>
<p>While it should work the same on all platforms, I have tested the plugin only on:</p>
<ul>
  <li>Linux:<ul>
      <li>CentOS 8</li>
    </ul>
  </li>
  <li>macOS:<ul>
      <li>Mojave 10.14.06</li>
      <li>Catalina 10.15.07</li>
      <li>Monterey 12.6.3</li>
    </ul>
  </li>
  <li>Windows 10</li>
</ul>
